get_filename_component(FMI4cpp_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH)
include(CMakeFindDependencyMacro)

list(APPEND CMAKE_MODULE_PATH ${FMI4cpp_CMAKE_DIR})

find_dependency(Boost 1.65 REQUIRED)
if (UNIX)
    if (FMI4CPP_USING_VCPKG)
        find_dependency(ZLIB REQUIRED)
        find_dependency(BZip2 REQUIRED)
        if (FMI4CPP_WITH_CURL)
            find_dependency(OpenSSL COMPONENTS Crypto SSL REQUIRED)
        endif()
    endif()
endif()
find_dependency(LIBZIP REQUIRED)
find_dependency(spdlog CONFIG REQUIRED)
if (FMI4CPP_WITH_CURL)
    find_dependency(CURL REQUIRED)
endif()
list(REMOVE_AT CMAKE_MODULE_PATH -1)

if(NOT TARGET FMI4cpp::FMI4cpp)
    include("${FMI4cpp_CMAKE_DIR}/FMI4cppTargets.cmake")
endif()

set(FMI4CPP_LIBRARIES FMI4cpp::FMI4cpp)